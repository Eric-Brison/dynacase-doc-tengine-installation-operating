# Configuration Dynacase {#te-manex-ref:33a5475b-28e7-4b95-b0ea-a127e4794e93}

Elle est réalisée depuis le Centre d'Administration de Dynacase Platform.

L'interface suivante permet de modifier les différents paramètres agissant sur
la connexion au serveur TE.

![Configuration connexion TE](exploitation-002.png "Configuration connexion TE")

## Paramètres {#te-manex-ref:20042096-f213-4275-b58a-f3f5bafd196e}

Activation du serveur de transformation
:  Indique si le serveur de transformation est utilisé pour cette instance de Dynacase Platform.

Activation de l'indexation plein texte avec le TE
:  Si activé, les différents fichiers de format supporté sont envoyés au serveur de transformation pour extraire les contenus textuels.

Adresse IP du serveur
:  Adresse IP (ou nom DNS) du serveur TE.

Port IP du serveur
:  Port TCP d'écoute du serveur TE.

URL pour les callback du serveur
:  URL d'accès à la racine du contexte Dynacase utilisée par le serveur TE pour
   signaler la fin des traitements au contexte Dynacase. Cette URL doit être
   accessible depuis le serveur TE.

Délai de connexion au serveur (secondes)
:  Délai de connexion au serveur TE. Si la connexion au serveur TE ne peut pas
   être établie dans ce temps imparti, la connexion est mise en erreur.

## Contrôle {#te-manex-ref:386a6298-fc32-45e5-97ab-78f190401606}

Le bouton `Contrôler la connexion au serveur` permet de vérifier que les
paramètres pour contacter le serveur TE (i.e. Adresse IP et port TCP) sont
corrects.  

Messages d'erreurs communs aux tests :

`Ne peut pas se connecter au serveur TE : Erreur lors de la création d'une socket`
:   Le serveur ne peut pas être contacté sur l'adresse ou le port paramétré.
    
    Vérifier que le serveur est bien en écoute sur l'adresse et le port
    paramétré.

`Ne peut pas se connecter au serveur TE : Erreur de négociation de la connexion`
:   Le serveur n'a pas répondu correctement à l'initialisation de la connexion.
    
    Vérifier que le serveur sur l'adresse et le port paramétré est bien un
    serveur TE.

`Ne peut pas se connecter au serveur TE : Message de négociation de collection inattendu : [...]`
:   Le serveur n'a pas répondu avec le message d'initialisation de connexion
    attendu.
    
    Vérifier que le serveur sur l'adresse et le port paramétré est bien un
    serveur TE.

`Ne peut pas envoyer la commande au serveur TE.`
:   L'envoi d'une commande au serveur TE à échoué.
    
    Le serveur a mis fin prématurément à la connexion (arrêt ou crash de
    celui-ci après l'établissement de la connexion).

`Ne peut pas lire la réponse du serveur TE.`
:   La lecture de la réponse à échouée.
    
    Le serveur a mis fin prématurément à la connexion (arrêt ou crash de
    celui-ci après l'établissement de la connexion).

`Taille de réponse invalide '[...]'`
:   La réponse reçue par le serveur indique une taille &lt;= `0`.
    
    Le serveur a mis fin prématurément à la connexion (arrêt ou crash de
    celui-ci après l'établissement de la connexion).

`La donné retournée n'est pas de type array ([...])`
:   La réponse du serveur est incorrecte.
    
    Le serveur a mis fin prématurément à la connexion (arrêt ou crash de
    celui-ci après l'établissement de la connexion).

Messages d'erreurs spécifiques aux tests :

1. *Vérification connexion au serveur*
    
    `Le serveur n'a pas envoyé de réponse valide : la version du serveur n'est peut-être pas compatible.`
    :   La version du serveur est incompatible avec la librairie cliente.
        
        Vérifier que la version du serveur TE est >= `1.4.0`.
    
2. *Création d'une nouvelle transformation*
    
    `Échec de création de fichier temporaire.`
    `Échec d'écriture du contenu dans le fichier temporaire '[...]'`
    :   La création d'un fichier temporaire sur Dynacase a échouée.
        
        Vérifier qu'il y a suffisamment d'espace disque dans le répertoire
        temporaire de Dynacase.
    
    `Ne peut pas se connecter au serveur TE : Erreur lors de la création d'une socket`
    :   Le serveur ne peut pas être contacté sur l'adresse ou le port
        paramétré.
        
        Vérifier que le serveur est bien en écoute sur l'adresse et le port
        paramétré.
    
    `Erreur lors de l'envoi du fichier`
    :   L'envoi du fichier a échoué.
        
        Le serveur a mis fin prématurément à la connexion.

3. *Attente du traitement de la transformation*
    
    `Transformation échouée (status '%s').`
    :   La transformation est en échec.
    
    `Transformation interrompue (status '%s').`
    :   La transformation a été interrompue.

4. *Attente du callback de la transformation*
    
    `Le callback a échoué avec le message : [...]`
    :   La connexion de callback du serveur TE est en échec.
        
        Vérifier que l'URL de callback paramétrée est correcte et permet de
        joindre correctement par HTTP le serveur Dynacase depuis le serveur TE.

